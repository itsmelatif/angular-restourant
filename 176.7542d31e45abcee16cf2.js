(self.webpackChunkrestourant=self.webpackChunkrestourant||[]).push([[176],{5176:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RecipesModule:()=>S});var r=i(4988),n=i(3435),c=i(5349),o=i(9917),s=i(8561),p=i(3606),u=i(4298);let a=(()=>{class e{constructor(e,t){this._authService=e,this._router=t}canActivate(e,t){return this._authService.user.pipe((0,o.q)(1),(0,s.U)(e=>!!e||this._router.createUrlTree(["/auth"])))}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(u.e),p.LFG(n.F0))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=i(14),l=i(2803),g=i(6274);function m(e,t){if(1&e&&(p.TgZ(0,"li",9),p._uU(1),p.qZA()),2&e){const e=t.$implicit;p.xp6(1),p.AsE("",e.name," ( ",e.amount," )")}}const Z=function(e){return{show:e}};let v=(()=>{class e{constructor(e,t,i){this._RecipesService=e,this._activedRoute=t,this._router=i,this.show=!1}ngOnInit(){this._activedRoute.params.subscribe(e=>{this.id=+e.id,this.getRecipe(this.id)})}getRecipe(e){this.recipeItem=this._RecipesService.getRecipe(e)}onAddedShoppingList(){}onEditRecipe(){this._router.navigate(["edit"],{relativeTo:this._activedRoute})}onDeleteRecipe(){this._RecipesService.deleteRecipe(this.id),this._router.navigate(["../../"],{relativeTo:this._activedRoute})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(d.v),p.Y36(n.gz),p.Y36(n.F0))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-recipe-detail"]],decls:29,vars:8,consts:[[1,"row"],[1,"col-12"],["width","100%",1,"image-responsive",3,"src","alt"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","appDropDown","",1,"btn","btn-secondary","dropdown-toggle",3,"click"],[1,"dropdown-menu",3,"ngClass"],[1,"dropdown-item",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"img",2),p.qZA(),p.TgZ(3,"div",1),p.TgZ(4,"h1"),p._uU(5),p.qZA(),p._UZ(6,"hr"),p.TgZ(7,"div",3),p.TgZ(8,"button",4),p.NdJ("click",function(){return t.show=!t.show}),p._uU(9," Manage "),p.qZA(),p.TgZ(10,"ul",5),p.TgZ(11,"li"),p.TgZ(12,"a",6),p.NdJ("click",function(){return t.onAddedShoppingList()}),p._uU(13,"To Shopping List"),p.qZA(),p.qZA(),p.TgZ(14,"li"),p.TgZ(15,"a",6),p.NdJ("click",function(){return t.onEditRecipe()}),p._uU(16,"Edit Recipe"),p.qZA(),p.qZA(),p.TgZ(17,"li"),p.TgZ(18,"a",6),p.NdJ("click",function(){return t.onDeleteRecipe()}),p._uU(19,"Delete Recipe"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(20,"hr"),p.TgZ(21,"p"),p._uU(22,"Descriptions: "),p._UZ(23,"br"),p._uU(24),p.qZA(),p.TgZ(25,"p"),p._uU(26,"Ingredients"),p.qZA(),p.TgZ(27,"ul",7),p.YNc(28,m,2,2,"li",8),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.s9C("src",t.recipeItem.imagePath,p.LSH),p.s9C("alt",t.recipeItem.name),p.xp6(3),p.Oqu(t.recipeItem.name),p.xp6(5),p.Q6J("ngClass",p.VKq(6,Z,t.show)),p.xp6(14),p.hij(" ",t.recipeItem.description," "),p.xp6(4),p.Q6J("ngForOf",t.recipeItem.ingredients))},directives:[l.w,g.mk,g.sg],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function h(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",18),p.TgZ(1,"div",19),p._UZ(2,"input",20),p.qZA(),p.TgZ(3,"div",21),p._UZ(4,"input",22),p.qZA(),p.TgZ(5,"div",21),p.TgZ(6,"button",23),p.NdJ("click",function(){const t=p.CHM(e).index;return p.oxw().onDeleteIngredient(t)}),p._uU(7,"X"),p.qZA(),p.qZA(),p.qZA()}2&e&&p.Q6J("formGroupName",t.index)}let f=(()=>{class e{constructor(e,t,i){this._route=e,this._recipeService=t,this._router=i,this.editMode=!1}ngOnInit(){this._route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id}),this.initForm()}initForm(){let e="",t="",i="",n=new r.Oe([]);if(this.editMode){const c=this._recipeService.getRecipe(this.id);if(e=c.name,t=c.imagePath,i=c.description,c.ingredients)for(const e of c.ingredients)n.push(new r.cw({name:new r.NI(e.name,r.kI.required),amount:new r.NI(e.amount,[r.kI.required,r.kI.pattern(/^[1-9]+[0-9]*$/)])}))}this.recipeForm=new r.cw({name:new r.NI(e,r.kI.required),imagePath:new r.NI(t,r.kI.required),description:new r.NI(i,r.kI.required),ingredients:n})}get controls(){return this.recipeForm.get("ingredients").controls}onSubmit(){this.editMode?this._recipeService.updateRecipe(this.id,this.recipeForm.value):this._recipeService.addRecipe(this.recipeForm.value)}onAddIngredient(){this.recipeForm.get("ingredients").push(new r.cw({name:new r.NI(null,r.kI.required),amount:new r.NI(null,[r.kI.pattern(/^[1-9]+[0-9]*$/),r.kI.required])}))}onCancel(){this._router.navigate(["../"],{relativeTo:this._route})}onDeleteIngredient(e){this.recipeForm.get("ingredients").removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(n.gz),p.Y36(d.v),p.Y36(n.F0))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-recipe-edit"]],decls:40,vars:4,consts:[[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"row","mt-5"],[1,"form-group"],["for",""],["type","text","id","name","formControlName","name",1,"form-control"],[1,"row","mt-2"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],["alt","","width","100%",1,"img-responsive",3,"src"],["name","description","id","description","rows","6","formControlName","description",1,"form-control"],[1,"row","mt-4"],["formArrayName","ingredients",1,"col-12"],["class","row mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"row","mb-3",3,"formGroupName"],[1,"col-8"],["type","text","id","ingredient","formControlName","name",1,"form-control"],[1,"col-2"],["type","text","id","qty","formControlName","amount",1,"form-control"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"form",2),p.NdJ("ngSubmit",function(){return t.onSubmit()}),p.TgZ(3,"div",0),p.TgZ(4,"div",1),p.TgZ(5,"button",3),p._uU(6,"Save"),p.qZA(),p._uU(7,"\xa0\xa0\xa0 "),p.TgZ(8,"button",4),p.NdJ("click",function(){return t.onCancel()}),p._uU(9,"Cancel"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div",5),p.TgZ(11,"div",1),p.TgZ(12,"div",6),p.TgZ(13,"label",7),p._uU(14,"Name"),p.qZA(),p._UZ(15,"input",8),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",9),p.TgZ(17,"div",1),p.TgZ(18,"div",6),p.TgZ(19,"label",7),p._uU(20,"Image URL"),p.qZA(),p._UZ(21,"input",10,11),p.qZA(),p.qZA(),p.qZA(),p.TgZ(23,"div",9),p.TgZ(24,"div",1),p._UZ(25,"img",12),p.qZA(),p.qZA(),p.TgZ(26,"div",9),p.TgZ(27,"div",1),p.TgZ(28,"div",6),p.TgZ(29,"label",7),p._uU(30,"Description"),p.qZA(),p._UZ(31,"textarea",13),p.qZA(),p.qZA(),p.qZA(),p.TgZ(32,"div",14),p.TgZ(33,"div",15),p.YNc(34,h,8,1,"div",16),p.TgZ(35,"div",14),p.TgZ(36,"div",1),p._UZ(37,"hr"),p.TgZ(38,"button",17),p.NdJ("click",function(){return t.onAddIngredient()}),p._uU(39,"Add Ingredient"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.MAs(22);p.xp6(2),p.Q6J("formGroup",t.recipeForm),p.xp6(3),p.Q6J("disabled",t.recipeForm.invalid),p.xp6(20),p.Q6J("src",e.value,p.LSH),p.xp6(9),p.Q6J("ngForOf",t.controls)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.CE,g.sg,r.x0],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red!important}"]}),e})();var _=i(9658);let q=(()=>{class e{constructor(e,t){this._dataStorageService=e,this._recipesService=t}resolve(e,t){const i=this._recipesService.getRecipes();return 0===i.length?this._dataStorageService.fetchData():i}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(_.Z),p.LFG(d.v))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),A=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function(e,t){1&e&&(p.TgZ(0,"h1"),p._uU(1,"Please selecte recipe"),p.qZA())},styles:[""]}),e})();const T=function(e){return[e]};let w=(()=>{class e{constructor(e){this._RecipeService=e}ngOnInit(){}onSelectedRecipe(){this._RecipeService.selectedRecipe.emit(this.recipeItem)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(d.v))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-recipe-item"]],inputs:{recipeItem:"recipeItem",index:"index"},decls:11,vars:7,consts:[[1,"list-group"],[1,"list-group-item"],["routerLinkActive","active",3,"routerLink"],[1,"row"],[1,"col-8"],[1,"col-4"],["width","100%",3,"src","alt"]],template:function(e,t){1&e&&(p.TgZ(0,"ul",0),p.TgZ(1,"li",1),p.TgZ(2,"a",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"h5"),p._uU(6),p.qZA(),p.TgZ(7,"p"),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"div",5),p._UZ(10,"img",6),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.Q6J("routerLink",p.VKq(5,T,t.index)),p.xp6(4),p.Oqu(t.recipeItem.name),p.xp6(2),p.Oqu(t.recipeItem.description),p.xp6(2),p.s9C("src",t.recipeItem.imagePath,p.LSH),p.s9C("alt",t.recipeItem.name))},directives:[n.yS,n.Od],styles:["a[_ngcontent-%COMP%]{cursor:pointer}a.active[_ngcontent-%COMP%]{background-color:red!important}"]}),e})();function b(e,t){if(1&e&&p._UZ(0,"app-recipe-item",5),2&e){const e=t.index;p.Q6J("recipeItem",t.$implicit)("index",e)}}let I=(()=>{class e{constructor(e,t,i){this._RecipesService=e,this._router=t,this._activeRoute=i,this.recipes=[]}ngOnInit(){this.subscription=this._RecipesService.recipesChanged.subscribe(e=>{this.recipes=e}),this.recipes=this._RecipesService.getRecipes()}ngOnDestroy(){this.subscription.unsubscribe()}onRecipeItem(e){console.log(e)}onNewRecipe(){this._router.navigate(["new"],{relativeTo:this._activeRoute})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(d.v),p.Y36(n.F0),p.Y36(n.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-recipe-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-12","mb-5","mt-5"],[1,"btn","btn-primary",3,"click"],[1,"col-12"],[3,"recipeItem","index",4,"ngFor","ngForOf"],[3,"recipeItem","index"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"button",2),p.NdJ("click",function(){return t.onNewRecipe()}),p._uU(3,"New Recipe"),p.qZA(),p.qZA(),p.TgZ(4,"div",3),p.YNc(5,b,1,2,"app-recipe-item",4),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("ngForOf",t.recipes))},directives:[g.sg,w],styles:[""]}),e})();const R=[{path:"",component:(()=>{class e{constructor(e){this._RecipeService=e}ngOnInit(){this._RecipeService.selectedRecipe.subscribe(e=>{this.selectedRecipe=e})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(d.v))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-5"],[1,"col-7","pt-5"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"app-recipe-list"),p.qZA(),p.TgZ(3,"div",2),p._UZ(4,"router-outlet"),p.qZA(),p.qZA())},directives:[I,n.lC],styles:[""]}),e})(),canActivate:[a],children:[{path:"",component:A},{path:"new",component:f},{path:":id",component:v,resolve:[q]},{path:":id/edit",component:f}]}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.Bz.forChild(R)],n.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.Bz,c.m,r.UX,U]]}),e})()}}]);